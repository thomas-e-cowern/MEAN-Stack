<!DOCTYPE html>
<html ng-app="ResumeTracker">

<head>
    <title>Resume Tracker</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-xeditable/0.4.0/js/xeditable.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.css">
    <link rel="stylesheet" href="../css/cover.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
    <script src="/js/modules/module.resumetracker.js"></script>
    <script src="/js/controllers/controller.resume.js"></script>
    <script src="/js/controllers/controller.interview.js"></script>
    <script src="/js/controllers/controller.career.js"></script>
    <script src="/js/factories/factory.resume.js"></script>
    <script src="/js/factories/factory.interview.js"></script>
    <script src="/js/factories/factory.career.js"></script>

</head>

<body>

    <a class="btn btn-default" role="button" data-toggle="collapse" href="#Menu" aria-expanded="false" aria-controls="collapseExample">Menu</a>
    <div class="collapse" id="Menu">
        <br>
        <div class="well">
            <a class="menu" href="/logout">Logout</a>
            <a class="menu" href="/html/userinfo.html">View User Data!</a>
        </div>
    </div>


    <div class="container">
        <h2>Resume Tracking Suite</h2>
        <p>Use the tools below to help you track your resumes and interviews and check career websites.</p>

        <ul class="nav nav-tabs">
            <li class="active"><a data-toggle="tab" href="#home">Resume Tracker</a></li>
            <li><a data-toggle="tab" href="#tab1">Interview Information</a></li>
            <li><a data-toggle="tab" href="#tab2">Career Web Sites</a></li>
        </ul>

        <div class="tab-content">
            <div id="home" class="tab-pane fade in active" ng-controller="homeController as home">
                <h3>Resume Tracker</h3>
                <div class="headButton">

                    <!-- Button for triggering resume modal -->
                    <button type="button" class="btn btn-primary btn-lg button" data-toggle="modal" data-target="#myResModal" ng-click="home.generateDate()">Add to your "Resume List"
                    </button>
                    <br><br>
                    <label>Search: <input class="text" ng-model="searchText"></label>
                    <!-- Resume Modal -->
                    <div class="modal fade" id="myResModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <form ng-submit="home.addResume()">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="false">&times;</span></button>
                                        <h4 class="modal-title" id="myModalLabel">Enter Resume Informtion</h4>
                                    </div>
                                    <div class="modal-body">
                                        Job Title: <input class="form-control" ng-model="home.resumeInfo.jobtitle" placeholder="Job Title"> Location: <input class="form-control" ng-model="home.resumeInfo.joblocation" placeholder="Location"> Company: <input class="form-control" ng-model="home.resumeInfo.company" placeholder="Company"> Company URL: <input class="form-control" ng-model="home.resumeInfo.companyurl" autocomplete="url" placeholder="Company URL"> Contact Name: <input class="form-control" ng-model="home.resumeInfo.contactname" placeholder="Contact Name"> Contact Phone: <input class="form-control" ng-model="home.resumeInfo.contactphone" autocomplete='tel' placeholder="Contact Phone"> Contact Email: <input class="form-control" type="email" ng-model="home.resumeInfo.contactemail" autocomplete='email' placeholder="Contact Email"> Date Submitted: <input class="form-control" ng-model="home.resumeInfo.datesubmitted" placeholder="Date Submitted"> Follow-up Date: <input class="form-control" ng-model="home.resumeInfo.followupdate" placeholder="Follow Up Date"> Notes: <input class="form-control" ng-model="home.resumeInfo.notes" placeholder="Notes">

                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="home.clearModal()">Close</button>
                                            <button type="button" id="updateResume" class="btn btn-default" ng-hide="home.showEdit" ng-click="home.updateResume()" data-toggle="modal" data-target="#myResModal">Update Resume</button>
                                            <button ng-hide="home.showAdd" id="addButton" type="submit" class="btn btn-primary">Add Resume</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <br>
                    <br>
                    <br>

                    <!--table for displaying Resume Information-->

                    <table class="table table-bordered">

                        <thead>
                            <tr>
                                <td>
                                    <a href="#" ng-click="sortType = 'jobtitle'">
                    Title
                    <span ng-show="sortType == 'jobtitle'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'joblocation'">
                    Location
                    <span ng-show="sortType == 'joblocation'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'company'">
                    Company
                    <span ng-show="sortType == 'company'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'companyurl'">
                    Company url
                    <span ng-show="sortType == 'companyurl'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'contactname'">
                    Contact Name
                    <span ng-show="sortType == 'contactname'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'contactphone'">
                    Contact Phone
                    <span ng-show="sortType == 'contactphone'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'contactemail'">
                    Contact Email
                    <span ng-show="sortType == 'contactemail'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'datesubmitted'">
                    Date Submitted
                    <span ng-show="sortType == 'datesubmitted'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'notes'">
                    Notes
                    <span ng-show="sortType == 'notes'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'followupdate'">
                    Follow Up
                    <span ng-show="sortType == 'followupdate'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>Delete Permanently</td>
                                <td>Edit Resume Info</td>

                            </tr>
                        </thead>

                        <tbody>
                            <tr ng-repeat="resume in home.resumeList  | orderBy:sortType | filter:searchText">
                                <td>{{resume.jobtitle}}</td>
                                <td>{{resume.joblocation}}</td>
                                <td>{{resume.company}}</td>
                                <td>{{resume.companyurl}}</td>
                                <td>{{resume.contactname}}</td>
                                <td>{{resume.contactphone}}</td>
                                <td>{{resume.contactemail}}</td>
                                <td>{{resume.datesubmitted | date: 'mediumDate'}}</td>
                                <td>{{resume.notes}}</td>
                                <td ng-style="{'color' : 'blue'}">{{resume.followupdate | date: 'mediumDate'}}</td>
                                <td><button class='btn btn-danger' ng-click='home.removeResume(resume._id)'>Remove</button></td>
                                <td><button class='btn btn-warning' ng-click='home.editResume(resume._id)' data-toggle="modal" data-target="#myResModal">Edit</button></td>
                        </tbody>
                    </table>
                </div>
            </div>
            <div id="tab1" class="tab-pane fade" ng-controller="interviewController as interview">

                <h3>Interview Information</h3>
                <div class="headButton">

                    <!-- Button triggering interview modal -->
                    <button type="button" class="btn btn-primary btn-lg button" data-toggle="modal" data-target="#myIntModal">Add to your "Interview Information"</button>
                    <br><br>
                    <label>Search: <input class="text" ng-model="searchText"></label>
                    <!-- Interview Modal -->
                    <div class="modal fade" id="myIntModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <form ng-submit="interview.addInterview()">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="false">&times;</span></button>
                                        <h4 class="modal-title" id="myModalLabel">Enter Interview Informtion</h4>

                                    </div>
                                    <div class="modal-body">
                                        Interview Date: <input class="form-control" ng-model="interview.interviewInfo.interviewdate" placeholder="Interview Date"> Interviewer Name: <input class="form-control" ng-model="interview.interviewInfo.interviewername" placeholder="Interview Name"> Interviewer Title: <input class="form-control" ng-model="interview.interviewInfo.interviewertitle" placeholder="Interview Title"> Company: <input class="form-control" ng-model="interview.interviewInfo.company" placeholder="Company"> Interview Address: <input class="form-control" ng-model="interview.interviewInfo.interviewaddress" autocomplete="street-address" placeholder="Interview Address"> Mailing Address: <input class="form-control" ng-model="interview.interviewInfo.mailingaddress" autocomplete='street-address' placeholder="Mailing Address"> Thank You Date: <input class="form-control" ng-model="interview.interviewInfo.thankyoudate" placeholder="Date to send Thank You"> Notes: <input class="form-control" ng-model="interview.interviewInfo.notes" placeholder="Notes">

                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="interview.clearModal()">Close</button>
                                            <button type="button" id="updateInterview" class="btn btn-default" ng-hide="interview.showEdit" ng-click="interview.updateInterview()" data-toggle="modal" data-target="#myIntModal">Update Interview</button>
                                            <button type="submit" class="btn btn-primary" ng-hide="interview.showAdd" id="addButton">Add Interview</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <br>
                    <br>
                    <br>

                    <!-- Table for displaying Interview Information-->
                    <table class="table table-bordered">

                        <thead>
                            <tr>
                                <td>
                                    <a href="#" ng-click="sortType = 'interviewDate'">
                    Interview Date
                    <span ng-show="sortType == 'interviewDate'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'interviewerName'">
                    Interviewer Name
                    <span ng-show="sortType == 'interviewerName'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'interviewerTitle'">
                    Interviewer TItle
                    <span ng-show="sortType == 'interviewerTitle'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'company'">
                    Company
                    <span ng-show="sortType == 'company'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'interviewerAddress'">
                    Interview Address
                    <span ng-show="sortType == 'interviewerAddress'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'mailingAddress'">
                    Mailing Address
                    <span ng-show="sortType == 'mailingAddress'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'thankYouDate'">
                    Thank You Date
                    <span ng-show="sortType == 'thankYouDate'" class="fa fa-caret-down"></span>
                    </a>
                                </td>

                                <td>
                                    <a href="#" ng-click="sortType = 'notes'">
                    Notes
                    <span ng-show="sortType == 'notes'" class="fa fa-caret-down"></span>
                    </a>
                                </td>

                            </tr>
                        </thead>

                        <tbody>
                            <tr ng-repeat="interviews in interview.interviewList | orderBy:sortType:sortReverse | filter:searchText">
                                <td>{{interviews.interviewdate | date: 'mediumDate'}}</td>
                                <td>{{interviews.interviewername}}</td>
                                <td>{{interviews.interviewertitle}}</td>
                                <td>{{interviews.company}}</td>
                                <td>{{interviews.interviewaddress}}</td>
                                <td>{{interviews.mailingaddress}}</td>
                                <td>{{interviews.thankyoudate | date: 'mediumDate'}}</td>
                                <td>{{interviews.notes}}</td>
                                <td><button class='btn btn-danger' ng-click='interview.removeInterview(interviews._id)'>Remove</button></td>
                                <td><button class='btn btn-warning' ng-click='interview.editInterview(interviews._id)' data-toggle="modal" data-target="#myIntModal">Edit</button></td>

                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="tab2" class="tab-pane fade" ng-controller="careerController as career">
                <h3>Career Web Sites</h3>
                <div class="headButton">

                    <!-- Button for triggering career web site modal -->
                    <button type="button" class="btn btn-primary btn-lg button" data-toggle="modal" data-target="#myCareerModal">
          Use the following to track the Career Web Sites you use.
        </button>
                   <br><br>
                   <label>Search: <input class="text" ng-model="searchText"></label>
                    <!-- Career Modal -->
                    <div class="modal fade" id="myCareerModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <form ng-submit="career.addCareer()">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="false">&times;</span></button>
                                        <h4 class="modal-title" id="myModalLabel">Enter Web Site Information</h4>
                                    </div>
                                    <div class="modal-body">
                                        Web Site Name: <input class="form-control" ng-model="career.careerInfo.websitename" placeholder="Web Site Name"> URL: <input class="form-control" ng-model="career.careerInfo.url" autocomplete="url" placeholder="URL"> Last Searched: <input class="form-control" ng-model="career.careerInfo.lastsearched" placeholder="Last Searched"> Number of Jobs Applied: <input class="form-control" ng-model="career.careerInfo.numberapplied" placeholder="Number of jobs applied"> Contacts: <input class="form-control" ng-model="career.careerInfo.contact" placeholder="Contacts"> Interviews: <input class="form-control" ng-model="career.careerInfo.interviews" placeholder="Interviews"> Username: <input class="form-control" ng-model="career.careerInfo.username" placeholder="Username"> Password: <input class="form-control" ng-model="career.careerInfo.password" placeholder="Password (Optional)">

                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                            <button type="button" id="updateCareer" class="btn btn-default" ng-hide="career.showEdit" ng-click="career.updateCareer()" data-toggle="modal" data-target="#myCareerModal">Update Web Site</button>
                                            <button type="submit" class="btn btn-primary" ng-hide="career.showAdd" id="addButton">Add Web Site</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <br>
                    <br>
                    <br>

                    <!--Table for displaying Web Site Information-->
                    <table class="table table-bordered">

                        <thead>
                            <tr>
                                <td>
                                    <a href="#" ng-click="sortType = 'sitename'">
                    Web Site Name
                    <span ng-show="sortType == 'sitename'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'url'">
                    URL
                    <span ng-show="sortType == 'url'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'lastsearched'">
                    Last Searched
                    <span ng-show="sortType == 'lastsearched'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'jobsapplied'">
                    Number of Jobs Applied
                    <span ng-show="sortType == 'jobsapplied'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'contacts'">
                    Contacts
                    <span ng-show="sortType == 'contacts'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'interviews'">
                    Interviews
                    <span ng-show="sortType == 'interviews'" class="fa fa-caret-down"></span>
                    </a>
                                </td>
                                <td>
                                    <a href="#" ng-click="sortType = 'username'">
                    Username
                    <span ng-show="sortType == 'username'" class="fa fa-caret-down"></span>
                    </a>
                                </td>

                                <td>
                                    <a href="#" ng-click="sortType = 'password'">
                    Password
                    <span ng-show="sortType == 'password'" class="fa fa-caret-down"></span>
                    </a>
                                </td>

                            </tr>
                        </thead>

                        <tbody>
                            <tr ng-repeat="careers in career.careerList | orderBy:sortType:sortReverse | filter:searchText">
                                <td>{{careers.websitename}}</td>
                                <td>{{careers.url}}</td>
                                <td>{{careers.lastsearched}}</td>
                                <td>{{careers.numberapplied}}</td>
                                <td>{{careers.contact}}</td>
                                <td>{{careers.interviews}}</td>
                                <td>{{careers.username}}</td>
                                <td>{{careers.password}}</td>
                                <td><button class='btn btn-danger' ng-click='career.removeCareer(careers._id)'>Remove</button></td>
                                <td><button class='btn btn-warning' ng-click='career.editCareer(careers._id)' data-toggle="modal" data-target="#myCareerModal">Edit</button></td>

                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

</body>

</html>
